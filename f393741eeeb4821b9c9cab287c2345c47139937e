{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "8d51bc87_f6b9f7e5",
        "filename": "media/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2023-11-03T17:17:24Z",
      "side": 1,
      "message": "Hi Yoel,\n\nDid you figure out why V3 is being created here? In the Android U release, V2 was the last frozen version, an the package is still frozen (line `133`).\n\nAlso if we actually have to use V3 as the latest version, then we need to change the variable on the line `138`.",
      "range": {
        "startLine": 125,
        "startChar": 0,
        "endLine": 138,
        "endChar": 79
      },
      "revId": "f393741eeeb4821b9c9cab287c2345c47139937e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "8cbd76d6_d70ce162",
        "filename": "media/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 2037182
      },
      "writtenOn": "2023-11-03T17:23:23Z",
      "side": 1,
      "message": "I do not know why this is created, need to compare the two folders to double check.",
      "parentUuid": "8d51bc87_f6b9f7e5",
      "range": {
        "startLine": 125,
        "startChar": 0,
        "endLine": 138,
        "endChar": 79
      },
      "revId": "f393741eeeb4821b9c9cab287c2345c47139937e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "fb57869a_f2728d45",
        "filename": "media/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 2037182
      },
      "writtenOn": "2023-11-03T17:28:13Z",
      "side": 1,
      "message": "running `diff -qr 2/ 3/` yield the following:\n```\nFiles 2/android/media/audio/common/AudioChannelLayout.aidl and 3/android/media/audio/common/AudioChannelLayout.aidl differ\nFiles 2/android/media/audio/common/AudioDeviceType.aidl and 3/android/media/audio/common/AudioDeviceType.aidl differ\nFiles 2/android/media/audio/common/AudioHalProductStrategy.aidl and 3/android/media/audio/common/AudioHalProductStrategy.aidl differ\nFiles 2/android/media/audio/common/AudioHalVolumeGroup.aidl and 3/android/media/audio/common/AudioHalVolumeGroup.aidl differ\nFiles 2/android/media/audio/common/AudioLatencyMode.aidl and 3/android/media/audio/common/AudioLatencyMode.aidl differ\nFiles 2/android/media/audio/common/AudioPortDeviceExt.aidl and 3/android/media/audio/common/AudioPortDeviceExt.aidl differ\nFiles 2/.hash and 3/.hash differ\n```",
      "parentUuid": "8cbd76d6_d70ce162",
      "range": {
        "startLine": 125,
        "startChar": 0,
        "endLine": 138,
        "endChar": 79
      },
      "revId": "f393741eeeb4821b9c9cab287c2345c47139937e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "272d688a_d0aaa3de",
        "filename": "media/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 2037182
      },
      "writtenOn": "2023-11-03T17:31:23Z",
      "side": 1,
      "message": "seems like there was a warning suppression added to all these files:\n```\n\u003c @JavaDerive(equals\u003dtrue, toString\u003dtrue) @VintfStability\n---\n\u003e @JavaDerive(equals\u003dtrue, toString\u003dtrue) @SuppressWarnings(value\u003d{\"redundant-name\"}) @VintfStability\n```",
      "parentUuid": "fb57869a_f2728d45",
      "range": {
        "startLine": 125,
        "startChar": 0,
        "endLine": 138,
        "endChar": 79
      },
      "revId": "f393741eeeb4821b9c9cab287c2345c47139937e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "4e2ceb61_c812ac32",
        "filename": "media/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1042638
      },
      "writtenOn": "2023-11-03T18:09:08Z",
      "side": 1,
      "message": "Thanks for digging into this, Yoel! It seems that this attribute was added here: https://r.android.com/2565431. I would expect, this shouldn\u0027t really affect the version as this is effectively a change in metadata about the AIDL file. Perhaps, Steven or Devin could comment on this.\n\nWe are actually working on a set of CLs that update this package and unfreeze it: ag/25011602. It is done internal-first due to deep dependencies, we will upstream relevant parts afterwards.\n\nIn any case, I think we plan to actually freeze this package later this year. That means, `V3` should be the current unstable version, not a frozen one, until that time.\n\nI would ask opinion of the Treble team on how it\u0027s better to handle this situation. I don\u0027t know the reason why you are running `m aidl-freeze-api` at this moment.",
      "parentUuid": "272d688a_d0aaa3de",
      "range": {
        "startLine": 125,
        "startChar": 0,
        "endLine": 138,
        "endChar": 79
      },
      "revId": "f393741eeeb4821b9c9cab287c2345c47139937e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7a5837c9_7dddc615",
        "filename": "media/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2023-11-03T18:33:00Z",
      "side": 1,
      "message": "We should be ignoring the @SuppressWarning annotation when checking to see if an interface needs to be frozen.\n\nIs that the only diff Yoel? If so, then that sounds like a bug in AIDL. Can you create one?\n\nEither way, I don\u0027t think we want to be these freezing interfaces on AOSP right now. We don\u0027t expect `m aidl-freeze-api` to be a no-op on AOSP. That should only be the case on a release branch.",
      "parentUuid": "4e2ceb61_c812ac32",
      "range": {
        "startLine": 125,
        "startChar": 0,
        "endLine": 138,
        "endChar": 79
      },
      "revId": "f393741eeeb4821b9c9cab287c2345c47139937e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "2741272a_9dbdbe96",
        "filename": "media/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1903905
      },
      "writtenOn": "2023-11-03T18:40:51Z",
      "side": 1,
      "message": "I thought this came from m aidl-freeze-api against android-14.0.0_r2 but I\u0027m double-checking. Agree re: expectation of when it should be a no-op.",
      "parentUuid": "7a5837c9_7dddc615",
      "range": {
        "startLine": 125,
        "startChar": 0,
        "endLine": 138,
        "endChar": 79
      },
      "revId": "f393741eeeb4821b9c9cab287c2345c47139937e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7446d1b7_a8164af7",
        "filename": "media/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1903905
      },
      "writtenOn": "2023-11-03T18:43:59Z",
      "side": 1,
      "message": "Nope, I was mistaken, this indeed only happens against main.  @yoelg@meta.com I think we can close this out, but we should definitely follow up with the aidl patch.",
      "parentUuid": "2741272a_9dbdbe96",
      "range": {
        "startLine": 125,
        "startChar": 0,
        "endLine": 138,
        "endChar": 79
      },
      "revId": "f393741eeeb4821b9c9cab287c2345c47139937e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9fe2fbf6_f480040f",
        "filename": "media/Android.bp",
        "patchSetId": 1
      },
      "lineNbr": 138,
      "author": {
        "id": 1644679
      },
      "writtenOn": "2023-11-03T18:51:43Z",
      "side": 1,
      "message": "I can repro this behavior and I don\u0027t see an interesting diff between V2 and V3 either. Created b/309135568 for this.\nThanks for bringing it to our attention!",
      "parentUuid": "7446d1b7_a8164af7",
      "range": {
        "startLine": 125,
        "startChar": 0,
        "endLine": 138,
        "endChar": 79
      },
      "revId": "f393741eeeb4821b9c9cab287c2345c47139937e",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}