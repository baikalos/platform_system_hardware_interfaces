{
  "comments": [
    {
      "unresolved": false,
      "key": {
        "uuid": "a97c46e0_1581ee57",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-11-19T03:05:59Z",
      "side": 1,
      "message": "\u003e Removed from reviewer: \n Steven Moreland\n\nOops, sorry, missed this",
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "22fd98db_db2fd266",
        "filename": "/PATCHSET_LEVEL",
        "patchSetId": 15
      },
      "lineNbr": 0,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-11-19T17:24:45Z",
      "side": 1,
      "message": "No worries. it\u0027s ready for your review now :)",
      "parentUuid": "a97c46e0_1581ee57",
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c91ed1bf_fbb12eea",
        "filename": "suspend/1.0/default/SuspendControlService.cpp",
        "patchSetId": 15
      },
      "lineNbr": 195,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-11-19T03:04:57Z",
      "side": 1,
      "message": "is this tested?",
      "range": {
        "startLine": 195,
        "startChar": 40,
        "endLine": 195,
        "endChar": 44
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "b68c5ad3_c8bd816a",
        "filename": "suspend/1.0/default/SuspendControlService.cpp",
        "patchSetId": 15
      },
      "lineNbr": 195,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-11-19T17:24:08Z",
      "side": 1,
      "message": "There is currently no unit test for this.",
      "parentUuid": "c91ed1bf_fbb12eea",
      "range": {
        "startLine": 195,
        "startChar": 40,
        "endLine": 195,
        "endChar": 44
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "6d272e48_6866e0c6",
        "filename": "suspend/1.0/default/SuspendControlService.cpp",
        "patchSetId": 15
      },
      "lineNbr": 207,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-11-19T03:04:57Z",
      "side": 1,
      "message": "this ignores arguments after the first?",
      "range": {
        "startLine": 207,
        "startChar": 8,
        "endLine": 207,
        "endChar": 23
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "4aec37ac_1b262aa3",
        "filename": "suspend/1.0/default/SuspendControlService.cpp",
        "patchSetId": 15
      },
      "lineNbr": 207,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-11-19T17:24:08Z",
      "side": 1,
      "message": "modified this as per your recommendation below.",
      "parentUuid": "6d272e48_6866e0c6",
      "range": {
        "startLine": 207,
        "startChar": 8,
        "endLine": 207,
        "endChar": 23
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "74075f73_78fb5aeb",
        "filename": "suspend/1.0/default/SuspendControlService.cpp",
        "patchSetId": 15
      },
      "lineNbr": 212,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-11-19T03:04:57Z",
      "side": 1,
      "message": "consider:\n\n    enum : int32_t {\n      OPT_WAKELOCKS \u003d 1 \u003c\u003c 0,\n      OPT_WAKEUPS \u003d 1 \u003c\u003c 0,\n      OPT_SUSPEND_STATS \u003d 1 \u003c\u003c 0,\n      OPT_ALL \u003d 0xffffffff;\n    };\n    int opts \u003d 0;\n    ...\n    if (args.empty()) {\n        opts \u003d OPT_ALL;\n    } else {\n      for (const auto\u0026 arg : args) {\n         if ... opts |\u003d OPT_...\n         ...\n      }\n    }\n    ...\n\nOr some other approach to avoid having to set every option, other than the one you want to false (maps, avoiding the booleans and putting the associated code directly here, etc...)",
      "range": {
        "startLine": 210,
        "startChar": 0,
        "endLine": 212,
        "endChar": 0
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "177e644f_db23734e",
        "filename": "suspend/1.0/default/SuspendControlService.cpp",
        "patchSetId": 15
      },
      "lineNbr": 212,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-11-19T17:24:08Z",
      "side": 1,
      "message": "Good suggestion. done.",
      "parentUuid": "74075f73_78fb5aeb",
      "range": {
        "startLine": 210,
        "startChar": 0,
        "endLine": 212,
        "endChar": 0
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "f97842df_45d2bde0",
        "filename": "suspend/1.0/default/SuspendControlService.cpp",
        "patchSetId": 15
      },
      "lineNbr": 239,
      "author": {
        "id": 1241955
      },
      "writtenOn": "2020-11-19T06:32:55Z",
      "side": 1,
      "message": "This is just a nit, but for consistency, neither of the other two printing blocks include a label like this.  (If you take Steven\u0027s suggestion and make the function capable of printing more than one block, I would _add_ a label like this to the other two blocks, not remove it here.)",
      "range": {
        "startLine": 239,
        "startChar": 21,
        "endLine": 239,
        "endChar": 29
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a02ffd5c_c135bd6a",
        "filename": "suspend/1.0/default/SuspendControlService.cpp",
        "patchSetId": 15
      },
      "lineNbr": 239,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-11-19T17:24:08Z",
      "side": 1,
      "message": "suspend stats already has \"----- Suspend Stats -----\\n\n\nand wakelock stats already has a WAKELOCK_STATS header.\n\nThe format is inconsistent between the two but they do already have headers.",
      "parentUuid": "f97842df_45d2bde0",
      "range": {
        "startLine": 239,
        "startChar": 21,
        "endLine": 239,
        "endChar": 29
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "9272c606_4bc1a8ff",
        "filename": "suspend/1.0/default/WakeupList.cpp",
        "patchSetId": 15
      },
      "lineNbr": 41,
      "author": {
        "id": 1241955
      },
      "writtenOn": "2020-11-19T06:32:55Z",
      "side": 1,
      "message": "I think it will be better to do what BSS does in this scenario and convert empty reasons to \"unknown\".  Otherwise the stats will hide problems where wakeup reason logging isn\u0027t capturing some (or all) wakeup reasons.",
      "range": {
        "startLine": 38,
        "startChar": 0,
        "endLine": 41,
        "endChar": 5
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "ade29409_a17114f3",
        "filename": "suspend/1.0/default/WakeupList.cpp",
        "patchSetId": 15
      },
      "lineNbr": 41,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-11-19T16:50:19Z",
      "side": 1,
      "message": "There are 2 cases where we can have empty reasons.\n\n1. wakeupReasons \u003d {\"\"};\n2. wakeupReasons is empty -- Either because readWakeupReasons() failed to read or parsing somehow failed.\n\nFor 1 currently the code is logging the wakeup as \"\". I can change this to \"unknown\" if you prefer.\n\nFor 2, there is currently not logging. Would you prefer some other reason here? Or \"unknown\" is also okay?",
      "parentUuid": "9272c606_4bc1a8ff",
      "range": {
        "startLine": 38,
        "startChar": 0,
        "endLine": 41,
        "endChar": 5
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "1fbe221c_eef40cbe",
        "filename": "suspend/1.0/default/main.cpp",
        "patchSetId": 15
      },
      "lineNbr": 145,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-11-19T03:04:57Z",
      "side": 1,
      "message": "nit: Relying on order for 6 argument of the same type starts risking OBO, and the tests don\u0027t cover this. For instance, imagine if the order here and in the tests is the same, but it\u0027s different in the cpp, then we\u0027d have issues/missing info only at runtime. Consider using struct fields instead, so they are identified by name.",
      "range": {
        "startLine": 144,
        "startChar": 8,
        "endLine": 145,
        "endChar": 93
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "738d554c_cfa04f16",
        "filename": "suspend/1.0/default/main.cpp",
        "patchSetId": 15
      },
      "lineNbr": 145,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-11-19T16:45:28Z",
      "side": 1,
      "message": "Filed b/173706869 to address this separately.\n\nI would prefer to do this in a separate change to avoid making large, unrelated changes in this CL.",
      "parentUuid": "1fbe221c_eef40cbe",
      "range": {
        "startLine": 144,
        "startChar": 8,
        "endLine": 145,
        "endChar": 93
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "08dfff3c_9a811bf4",
        "filename": "suspend/aidl/android/system/suspend/internal/ISuspendControlServiceInternal.aidl",
        "patchSetId": 15
      },
      "lineNbr": 48,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-11-19T03:04:57Z",
      "side": 1,
      "message": "format",
      "range": {
        "startLine": 48,
        "startChar": 4,
        "endLine": 48,
        "endChar": 5
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "3a2f5914_d30df324",
        "filename": "suspend/aidl/android/system/suspend/internal/ISuspendControlServiceInternal.aidl",
        "patchSetId": 15
      },
      "lineNbr": 48,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-11-19T19:20:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "08dfff3c_9a811bf4",
      "range": {
        "startLine": 48,
        "startChar": 4,
        "endLine": 48,
        "endChar": 5
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "0a426d2d_81d385c6",
        "filename": "suspend/aidl/android/system/suspend/internal/WakeupInfo.aidl",
        "patchSetId": 15
      },
      "lineNbr": 23,
      "author": {
        "id": 1120458
      },
      "writtenOn": "2020-11-19T03:04:57Z",
      "side": 1,
      "message": "usually individual struct fields are commented\n\nCan you also comment where these names come from (some other API)?",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 23,
        "endChar": 67
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "7ac0fb1e_941c3686",
        "filename": "suspend/aidl/android/system/suspend/internal/WakeupInfo.aidl",
        "patchSetId": 15
      },
      "lineNbr": 23,
      "author": {
        "id": 1241955
      },
      "writtenOn": "2020-11-19T06:32:55Z",
      "side": 1,
      "message": "Not sure I\u0027m interpreting the first comment correctly, but this seems to be consistent with the commenting structure of the existing WakeLockInfo.aidl file in the same location.  Is it better to move this file closer to convention or to keep it consistent with other adjacent code?",
      "parentUuid": "0a426d2d_81d385c6",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 23,
        "endChar": 67
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "c1d62190_bf900f8f",
        "filename": "suspend/aidl/android/system/suspend/internal/WakeupInfo.aidl",
        "patchSetId": 15
      },
      "lineNbr": 23,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-11-19T16:28:08Z",
      "side": 1,
      "message": "I can change this to\n\nparcelable WakeupInfo {\n   /* Name of the wakeup from /sys/kernel/wakeup_reasons/last_resume_reason */\n   @utf8InCpp String name;\n\n   /* Number of times the wakeup was encountered */\n   long count;\n}\n\nWould that be satisfactory?",
      "parentUuid": "7ac0fb1e_941c3686",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 23,
        "endChar": 67
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "2f7d8120_5e456d78",
        "filename": "suspend/aidl/android/system/suspend/internal/WakeupInfo.aidl",
        "patchSetId": 15
      },
      "lineNbr": 23,
      "author": {
        "id": 1409782
      },
      "writtenOn": "2020-11-19T19:20:37Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "c1d62190_bf900f8f",
      "range": {
        "startLine": 22,
        "startChar": 0,
        "endLine": 23,
        "endChar": 67
      },
      "revId": "7d860dc8bf8601d3a21d49989a0cf26eb36b7e3b",
      "serverId": "85c56323-6fa9-3386-8a01-6480fb634889"
    }
  ]
}